#summary Lightweight Inter-Thread Messaging.

= Introduction =

The functionality offered by this library sits between a simple thread-safe queue and _DBUS_ type messaging. It is not meant to compete with more complex solutions such as _AMQP_ based messaging nor _remote procedure call_ based ones.

= Features =

  * Lightweight
  * Fast
  * Thread-safe
  * _Bus_ semantic (ie. 1-to-many, 1-to-1)
  * Opaque Message delivery
  * Fixed number of _busses_
  * Recycling of _envelopes_
  * Out-of-order delivery
  
= Principle of Operation =

== Overview ==
The general operation is as follows:
 
  * A _client_ opens a _connection_ to _litm_
  * A _client_ subscribes to 1 or more _bus_
  * A _client_ sends a message on 1 bus
  * A _client_ receives a message on *any* bus (blocking) OR
  * A _client_ receives a message on *any* bus *if one is available* (non-blocking)
  * Messages can be delivered out-of-order 


== Rules ==
1. _Messages_ and _envelopes_ are owned by ``litm``

	Once a _message_ is sent (through *litm_send* function), _litm_ owns
	the message. The sender nor the receiver(s) can ever again modify
	the message.
	
2. _Messages_ are sent on 1 _bus_ only

3. A receiver (aka _client_) can subscribe to any _bus_

4. A receiver can subscribe to as many _bus_ 

5. A receiver *must* release a message once it is processed

	Once a _message_ is processed by a _receiver_, it must be
	released through the function *litm_release*.
	
	
= Use Cases =

  # One-to-One (degenerate case)
  # One-to-Many


= Usage =

  For normal operation, the library must be used with *1 thread per client* 
  whereas a _client_ corresponds to the owner thread of the call being made
  to _litm_open_ function.
  
= Delivery =

  Messages can be delivered out-of-order; this is due to the way the
  _switch_ polls for availability of recipients in a non-blocking fashion.

= Connections & Busses =

  There are 15 connections and 7 busses possible although the library can be 
  recompiled to support more.  
  
  The _worst case_ scenario is when all _busses_ are used in 1-to-1 pattern thereby:  
  
  	{{{
  		7busses * 2clients = 14 connections
  	}}}
  	
= Sending =
  Upon error accessing _litm_send_, it is the responsibility of the sender
  to dispose of the message.

